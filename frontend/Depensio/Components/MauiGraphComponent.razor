@using ApexCharts
@using depensio.Shared.Pages.Produits.Models
@using depensio.Shared.Helper

@if (SaleSummarys != null && SaleSummarys.Any())
{
    <ApexChart TItem="SaleSummary"
               Title="Recapitulatif des ventes par produit" Height="400">

        <ApexPointSeries TItem="SaleSummary"
                         Items="SaleSummarys"
                         Name="Montant total"
                         XValue="@(e => e.ProductName)"
                         YValue="@(e => e.TotalRevenue)"
                         OrderByDescending="e=>e.Y"
                         SeriesType="SeriesType.Bar"
                         Color="#005ba3"
                         PointColor="e=> GetColor(e)" />
    </ApexChart>


}


@code {
    [Parameter]
    public IEnumerable<SaleSummary> SaleSummarys { get; set; }

    protected override async Task OnInitializedAsync()
    {
    }


    private string GetColor(SaleSummary saleSummary)
    {
        return saleSummary.Color;
    }
}
